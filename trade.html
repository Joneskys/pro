<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Trade Calculator</title>
<style>
body{background:#000814;color:white;font-family:system-ui}
.card{max-width:500px;margin:40px auto;background:#081a35;padding:20px;border-radius:20px}
input,button{width:100%;padding:10px;margin:6px 0;background:#0b254a;border:1px solid #123;color:white;border-radius:10px}
.profit{color:#00ff9c;font-size:22px}
.loss{color:#ff5252;font-size:22px}
</style>
</head>
<body>
<div class="card">
<h2 id="title"></h2>
<input id="entry">
<input id="sl">
<input id="target">
<input id="qty" placeholder="Quantity">
<input id="budget" placeholder="Budget">
<button onclick="calc()">Calculate</button>
<div id="out"></div>
</div>

<script>
const p=new URLSearchParams(location.search);
entry.value=p.get("entry");
sl.value=p.get("sl");
target.value=p.get("target");
title.innerText=p.get("stock");

function round(v){return (Math.round(v*20)/20).toFixed(2)}

function calc(){
  let e=+entry.value,s=+sl.value,t=+target.value,q=+qty.value,b=+budget.value;
  if(b&&!q)q=Math.floor((b*5)/e);
  if(q&&!b)b=(q*e)/5;
  qty.value=q;budget.value=round(b);

  let pnlSL=(s-e)*q;
  let pnlT=(t-e)*q;

  out.innerHTML=`
  <div class="loss">SL P/L: ₹${round(pnlSL)}</div>
  <div class="profit">Target P/L: ₹${round(pnlT)}</div>
  <div>Risk:Reward = ${(Math.abs(pnlSL)/Math.abs(pnlT)).toFixed(2)}</div>`;
}
</script>
</body>
</html>
